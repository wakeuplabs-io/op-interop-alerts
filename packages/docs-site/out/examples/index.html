<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/op-interop-alerts/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/logo-wu.png"/><link rel="preload" as="image" href="/npm-logo-red.png"/><link rel="preload" as="image" href="/github-mark.png"/><link rel="preload" as="image" href="/logo-wu-isotype.png"/><link rel="stylesheet" href="/op-interop-alerts/_next/static/css/d8d0d207bb4bc00b.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/op-interop-alerts/_next/static/chunks/webpack-778a9115d1e615c0.js"/><script src="/op-interop-alerts/_next/static/chunks/fd9d1056-9405763ae8d85987.js" async=""></script><script src="/op-interop-alerts/_next/static/chunks/23-60d091561a0e6fed.js" async=""></script><script src="/op-interop-alerts/_next/static/chunks/main-app-329771e6aadb11d7.js" async=""></script><script src="/op-interop-alerts/_next/static/chunks/231-d3fb88463de409bd.js" async=""></script><script src="/op-interop-alerts/_next/static/chunks/897-d672c0d1c9e62386.js" async=""></script><script src="/op-interop-alerts/_next/static/chunks/app/examples/page-db09046c5213457e.js" async=""></script><script src="/op-interop-alerts/_next/static/chunks/app/layout-63c6c6c5ccaf3884.js" async=""></script><title>Examples | OP Interop Alerts SDK</title><meta name="description" content="Complete examples showing how to use all modules of the OP Interop Alerts SDK together for comprehensive cross-chain monitoring."/><meta name="author" content="WakeUp Labs"/><meta name="keywords" content="optimism,superchain,cross-chain,interoperability,monitoring,alerts,l2,ethereum"/><meta name="creator" content="WakeUp Labs"/><meta property="og:title" content="OP Interop Alerts SDK"/><meta property="og:description" content="TypeScript SDK for monitoring cross-chain interoperability across Optimism Superchain"/><meta property="og:url" content="https://wakeuplabs-io.github.io/op-interop-alerts/"/><meta property="og:site_name" content="OP Interop Alerts SDK"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="OP Interop Alerts SDK"/><meta name="twitter:description" content="TypeScript SDK for monitoring cross-chain interoperability across Optimism Superchain"/><link rel="shortcut icon" href="/favicon-wu.svg"/><link rel="icon" href="/favicon-wu.svg"/><link rel="apple-touch-icon" href="/favicon-wu.svg"/><meta name="next-size-adjust"/><script src="/op-interop-alerts/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_1ef16e"><div class="min-h-screen bg-white"><header class="sticky top-0 z-50 bg-white border-b border-gray-200"><div class="px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><a class="flex items-center space-x-4" href="/op-interop-alerts/"><img src="/logo-wu.png" alt="WakeUp Labs" class="h-8 w-auto"/><div class="hidden sm:flex flex-col"><span class="text-sm font-medium text-midnight">OP Interop Alerts SDK</span><span class="text-xs text-gray-500">Cross-chain monitoring documentation</span></div></a><div class="flex items-center space-x-6"><div class="hidden md:flex items-center space-x-4"><a href="https://www.npmjs.com/package/@wakeuplabs/op-interop-alerts-sdk" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity p-2" title="NPM Package"><img src="/npm-logo-red.png" alt="NPM" class="h-4 w-auto"/></a><a href="https://github.com/wakeuplabs-io/op-interop-alerts" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity p-2" title="GitHub Repository"><img src="/github-mark.png" alt="GitHub" class="h-5 w-auto"/></a><a href="https://wakeuplabs.io" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity p-2" title="WakeUp Labs"><img src="/logo-wu-isotype.png" alt="WakeUp Labs" class="h-4 w-auto"/></a></div><button type="button" class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-midnight hover:bg-gray-100 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu w-6 h-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></div></header><div class="flex"><aside class="hidden md:block w-64 flex-shrink-0"><div class="sticky top-16 h-screen overflow-y-auto"><div class="bg-white border-r border-gray-200"><nav class="p-4 space-y-1"><a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 relative text-gray-600 hover:text-midnight hover:bg-gray-50" href="/op-interop-alerts/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open mr-3 h-4 w-4 transition-colors text-gray-400 group-hover:text-gray-600"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>Getting Started</a><a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 relative text-gray-600 hover:text-midnight hover:bg-gray-50" href="/op-interop-alerts/installation/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package mr-3 h-4 w-4 transition-colors text-gray-400 group-hover:text-gray-600"><path d="m7.5 4.27 9 5.15"></path><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path><path d="m3.3 7 8.7 5 8.7-5"></path><path d="M12 22V12"></path></svg>Installation</a><a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 relative text-gray-600 hover:text-midnight hover:bg-gray-50" href="/op-interop-alerts/tracking/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap mr-3 h-4 w-4 transition-colors text-gray-400 group-hover:text-gray-600"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg>Tracking Module</a><a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 relative text-gray-600 hover:text-midnight hover:bg-gray-50" href="/op-interop-alerts/metrics/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart3 mr-3 h-4 w-4 transition-colors text-gray-400 group-hover:text-gray-600"><path d="M3 3v18h18"></path><path d="M18 17V9"></path><path d="M13 17V5"></path><path d="M8 17v-3"></path></svg>Metrics Module</a><a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 relative text-gray-600 hover:text-midnight hover:bg-gray-50" href="/op-interop-alerts/alerts/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle-alert mr-3 h-4 w-4 transition-colors text-gray-400 group-hover:text-gray-600"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>Alerts Module</a><a class="group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 relative text-midnight bg-orange/5 border-l-4 border-orange" href="/op-interop-alerts/examples/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code mr-3 h-4 w-4 transition-colors text-orange"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Examples</a><div class="pt-6 mt-6 border-t border-gray-200 space-y-1"><a href="https://www.npmjs.com/package/@wakeuplabs/op-interop-alerts-sdk" target="_blank" rel="noopener noreferrer" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-midnight transition-colors rounded-md hover:bg-gray-50"><div class="mr-3 w-8 h-4 flex items-center justify-start"><img src="/npm-logo-red.png" alt="NPM" class="h-3 w-auto opacity-70 group-hover:opacity-100"/></div>NPM Package</a><a href="https://github.com/wakeuplabs-io/op-interop-alerts" target="_blank" rel="noopener noreferrer" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-midnight transition-colors rounded-md hover:bg-gray-50"><div class="mr-3 w-8 h-4 flex items-center justify-start"><img src="/github-mark.png" alt="GitHub" class="h-4 w-auto opacity-70 group-hover:opacity-100"/></div>GitHub</a><a href="https://wakeuplabs.io" target="_blank" rel="noopener noreferrer" class="group flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-midnight transition-colors rounded-md hover:bg-gray-50"><div class="mr-3 w-8 h-4 flex items-center justify-start"><img src="/logo-wu-isotype.png" alt="WakeUp Labs" class="h-3 w-auto opacity-70 group-hover:opacity-100"/></div>WakeUp Labs</a></div></nav></div></div></aside><main class="flex-1 max-w-none"><div class="pl-4 pr-4 sm:pl-6 sm:pr-6 lg:pl-8 lg:pr-8 py-8"><div class="max-w-none sm:max-w-4xl mx-auto"><div class="mb-8"><div class="flex items-center space-x-3 mb-4"><div class="w-10 h-10 bg-orange/10 rounded-lg flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code w-5 h-5 text-orange"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg></div><h1 class="text-3xl font-bold text-midnight">Examples</h1></div><p class="text-lg text-gray-600">Complete examples showing how to use all modules of the OP Interop Alerts SDK together for comprehensive cross-chain monitoring and alerting.</p></div><div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Example Overview</h2><p class="text-gray-600 mb-6">These examples demonstrate real-world usage patterns combining tracking, metrics generation, and intelligent alerting. Each example is complete and ready to run.</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div class="bg-white border border-gray-200 rounded-lg p-4"><div class="flex items-center space-x-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code w-4 h-4 text-orange"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg><h3 class="font-semibold text-gray-900">Basic Monitoring</h3></div><p class="text-sm text-gray-600">Simple setup with console logging and basic metrics</p></div><div class="bg-white border border-gray-200 rounded-lg p-4"><div class="flex items-center space-x-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle-alert w-4 h-4 text-orange"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg><h3 class="font-semibold text-gray-900">Production Monitoring</h3></div><p class="text-sm text-gray-600">Full production setup with Slack alerts and custom rules</p></div><div class="bg-white border border-gray-200 rounded-lg p-4"><div class="flex items-center space-x-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart3 w-4 h-4 text-orange"><path d="M3 3v18h18"></path><path d="M18 17V9"></path><path d="M13 17V5"></path><path d="M8 17v-3"></path></svg><h3 class="font-semibold text-gray-900">Advanced Analytics</h3></div><p class="text-sm text-gray-600">Custom metrics and multi-channel alerting</p></div></div></div><div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Basic Monitoring Setup</h2><p class="text-gray-600 mb-6">A simple example that demonstrates the core functionality with console output:</p><div class="my-4 sm:my-6 rounded-lg overflow-hidden bg-midnight"><div class="flex bg-gray-800"><button class="px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0 text-white bg-midnight">TypeScript</button><button class="px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0 text-gray-300 hover:text-white bg-gray-800">JavaScript</button></div><div class="bg-midnight"><div><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="flex items-center justify-between px-3 sm:px-4 py-2 bg-gray-800 border-b border-gray-700"><div class="flex items-center space-x-2 min-w-0 flex-1"><span class="text-xs sm:text-sm font-mono text-gray-300 truncate">basic-monitoring.ts</span></div><div class="flex items-center space-x-2 flex-shrink-0"><span class="text-xs text-gray-500 uppercase tracking-wide">typescript</span></div></div><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-typescript" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> 
</span></span><span><span class="token imports">  startTracking</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> 
</span></span><span><span class="token imports">  generateMetrics</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> 
</span></span><span><span class="token imports">  </span><span class="token imports maybe-class-name">TrackingResult</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports">
</span></span><span><span class="token imports">  </span><span class="token imports maybe-class-name">InteropMetrics</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports">
</span></span><span><span class="token imports">  hasConsecutiveFailures</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports">
</span></span><span>  getConsecutiveFailureCount
</span><span><span class="token imports"></span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;@wakeuplabs/op-interop-alerts-sdk&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> chainsInfoMock </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;@wakeuplabs/op-interop-alerts-sdk/config&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Configuration</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> pksInfo </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  origin</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">ORIGIN_PRIVATE_KEY</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">0x</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">string</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  destination</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">DESTINATION_PRIVATE_KEY</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">0x</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">string</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">10</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">METRICS_THRESHOLD</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">3</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Generate metrics after 3 data points</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Storage for tracking results</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> trackingResults</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Tracking callback with basic logging</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">trackingCallback</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> timestamp </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">timestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">toISOString</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n=== [</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">timestamp</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">] TRACKING CYCLE ===</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">success</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> sentMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> relayMessage </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> latency </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> relayMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">localTimestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getTime</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-</span><span> sentMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">localTimestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getTime</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚úÖ Cross-chain message successful&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">latency </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">2</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Send Gas: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">sentMessage</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">gasUsed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toString</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Relay Gas: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">relayMessage</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">gasUsed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toString</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Send Tx: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">sentMessage</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">transactionHash</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Relay Tx: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">relayMessage</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">transactionHash</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Cross-chain message failed&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Error: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">error</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">error</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Store result for metrics</span><span>
</span></span><span><span>  trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">push</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Total results: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">trackingResults</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">length</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Check for consecutive failures</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">hasConsecutiveFailures</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">3</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> failureCount </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">getConsecutiveFailureCount</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚ö†Ô∏è  WARNING: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">failureCount</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> consecutive failures detected!</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Generate metrics when we have enough data</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">METRICS_THRESHOLD</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">displayMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;=== END CYCLE ===\n&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">displayMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">try</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> metrics</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">InteropMetrics</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">generateMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;\nüìä === METRICS SUMMARY ===&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">System Status: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">interopStatus</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> (</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">healthLevel</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">)</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">Success Rate: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">successRate</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">%</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">Average Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">latency</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">averageLatencyMs</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">P95 Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">latency</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">p95LatencyMs</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">Messages/Hour: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">messagesPerHour</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">health</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">alerts</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;\nüö® Health Alerts:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">health</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">alerts</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">forEach</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>alert</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> i</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>        </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">  </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">i </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">+</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">. [</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">level</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">] </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">health</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">recommendations</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;\nüí° Recommendations:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">health</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">recommendations</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">forEach</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>rec</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> i</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>        </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">  </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">i </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">+</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">. </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">rec</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;=== END METRICS ===\n&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">error</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Error generating metrics:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Start monitoring</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">main</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;üöÄ Starting OP Interop Basic Monitoring&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìä Tracking interval: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> minutes</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìà Metrics threshold: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">METRICS_THRESHOLD</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> data points\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">try</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">startTracking</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span></span><span><span>      chainsInfoMock</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>      pksInfo</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>      trackingCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>      </span><span class="token" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">error</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Monitoring failed:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">exit</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Handle graceful shutdown</span><span>
</span></span><span><span>process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">on</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;SIGINT&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;\nüëã Shutting down monitoring...&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìä Final metrics from </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">trackingResults</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">length</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> data points:</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(207, 82%, 66%)">displayMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span>  process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">exit</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">main</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div></div></div><div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Production Monitoring with Slack Alerts</h2><p class="text-gray-600 mb-6">A production-ready example with Slack notifications and comprehensive alerting:</p><div class="my-4 sm:my-6 rounded-lg overflow-hidden bg-midnight"><div class="flex bg-gray-800"><button class="px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0 text-white bg-midnight">TypeScript</button><button class="px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0 text-gray-300 hover:text-white bg-gray-800">Environment Variables</button></div><div class="bg-midnight"><div><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="flex items-center justify-between px-3 sm:px-4 py-2 bg-gray-800 border-b border-gray-700"><div class="flex items-center space-x-2 min-w-0 flex-1"><span class="text-xs sm:text-sm font-mono text-gray-300 truncate">production-monitoring.ts</span></div><div class="flex items-center space-x-2 flex-shrink-0"><span class="text-xs text-gray-500 uppercase tracking-wide">typescript</span></div></div><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-typescript" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> 
</span></span><span><span>  startTracking</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>  generateMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>  processAlerts</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  createAlertContext</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  createSimpleNotificationCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(29, 54%, 61%)">DEFAULT_ALERT_RULES</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">InteropMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">AlertNotification</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token maybe-class-name">NotificationChannel</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;@wakeuplabs/op-interop-alerts-sdk&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> chainsInfoMock </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;@wakeuplabs/op-interop-alerts-sdk/config&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Configuration</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> pksInfo </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  origin</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">ORIGIN_PRIVATE_KEY</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">0x</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">string</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  destination</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">DESTINATION_PRIVATE_KEY</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">0x</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">string</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">parseInt</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;5&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">STATUS_REPORT_INTERVAL</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">12</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Send status every 12 iterations (1 hour if 5min intervals)</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Slack configuration</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> slackConfig </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  webhookUrl</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">SLACK_WEBHOOK_URL</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  channel</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">SLACK_CHANNEL</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;#interop-alerts&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  username</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">SLACK_USERNAME</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;OP Interop Monitor&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  iconEmoji</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">SLACK_ICON_EMOJI</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;:zap:&#x27;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Storage and counters</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> trackingResults</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> iterationCount </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> startTime </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Date</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">now</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Slack notification helper</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendSlackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span></span><span><span>  message</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">string</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>  color</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;good&#x27;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">|</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;warning&#x27;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">|</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;danger&#x27;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;good&#x27;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Promise</span><span class="token" style="color:hsl(207, 82%, 66%)">&lt;</span><span class="token" style="color:hsl(95, 38%, 62%)">boolean</span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(207, 82%, 66%)">!</span><span>slackConfig</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">webhookUrl</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;üì± Slack not configured, logging message:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> message</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">false</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">try</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> payload </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      username</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> slackConfig</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">username</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      icon_emoji</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> slackConfig</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">iconEmoji</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      channel</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> slackConfig</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">channel</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      attachments</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>        color</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>        text</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> message</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>        footer</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;OP Interop Alerts&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>        ts</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Math</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">floor</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Date</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">now</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1000</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> response </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">fetch</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>slackConfig</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">webhookUrl</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      method</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;POST&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      headers</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> </span><span class="token string-property" style="color:hsl(355, 65%, 65%)">&#x27;Content-Type&#x27;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;application/json&#x27;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      body</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">JSON</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">stringify</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>payload</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> response</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">ok</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">error</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Error sending Slack message:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">false</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Alert notification callback</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> alertNotificationCallback </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">createSimpleNotificationCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token maybe-class-name">NotificationChannel</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">SLACK</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>notification</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">AlertNotification</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> alert</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> rule</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> context </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> notification</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üö® ALERT TRIGGERED: [</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">severity</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">] </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">title</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üö® *</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">title</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Severity:* </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">severity</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Category:* </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">category</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Message:* </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alert</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Add key metrics</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> metrics </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> context</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n*üìä Current Status:*\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ System: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">interopStatus</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> (</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">healthLevel</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">)\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Success Rate: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">successRate</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">%\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    slackMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Avg Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">latency</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">averageLatencyMs</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> color </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> alert</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">severity</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">===</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;CRITICAL&#x27;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;danger&#x27;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;warning&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> success </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendSlackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>slackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> color</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>success</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚úÖ Alert sent to Slack&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Failed to send alert to Slack&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Status report function</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendStatusReport</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>metrics</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">InteropMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> iteration</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">number</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> uptime </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Math</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">floor</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token known-class-name" style="color:hsl(29, 54%, 61%)">Date</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">now</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-</span><span> startTime</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1000</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">/</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">60</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// minutes</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">let</span><span> statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚úÖ *OP Interop Status: Healthy*\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Iteration:* </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">iteration</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Uptime:* </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">uptime</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> minutes\n\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*üìä Current Metrics:*\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Status: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">interopStatus</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> (</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">healthLevel</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">)\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Success Rate: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">successRate</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">%\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Avg Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">latency</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">averageLatencyMs</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ P95 Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">latency</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">p95LatencyMs</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Messages/Hour: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">messagesPerHour</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  statusMessage </span><span class="token" style="color:hsl(207, 82%, 66%)">+=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚Ä¢ Total Messages: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">totalMessages</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> success </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendSlackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>statusMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;good&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>success </span><span class="token" style="color:hsl(207, 82%, 66%)">?</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚úÖ Status report sent to Slack&#x27;</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Failed to send status report&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Alert processing function</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">processAlertsForMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>metrics</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">InteropMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> trackingData</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">try</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> alertContext </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">createAlertContext</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span></span><span><span>      metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      trackingData</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      </span><span class="token nil" style="color:hsl(286, 60%, 67%)">undefined</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(29, 54%, 61%)">60</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">*</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">60</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">*</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1000</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// 1 hour time window</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> alertResults </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">processAlerts</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(29, 54%, 61%)">DEFAULT_ALERT_RULES</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>      alertContext</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span>      alertNotificationCallback
</span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> triggeredAlerts </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> alertResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">filter</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">triggered</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìã Alert processing: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">alertResults</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">length</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> rules, </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">triggeredAlerts</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">length</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> triggered</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>triggeredAlerts</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;üö® Triggered alerts:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      triggeredAlerts</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">forEach</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> index</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>        </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">index </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">+</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">. [</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">alert</span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">?.</span><span class="token template-string interpolation">severity</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">] </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">rule</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">name</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> triggeredAlerts</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">===</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">error</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Error processing alerts:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">return</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">false</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Main tracking callback</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">trackingCallback</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n=== [</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">timestamp</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toISOString</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">] PRODUCTION MONITORING ===</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">success</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span> sentMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> relayMessage </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> latency </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> relayMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">localTimestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getTime</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-</span><span> sentMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">localTimestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getTime</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚úÖ Cross-chain operation successful (</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">latency </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">2</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s latency)</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">‚ùå Cross-chain operation failed: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">error</span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">?.</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">push</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Generate metrics and process alerts</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&gt;=</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> metrics </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">generateMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìä System: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">interopStatus</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> | Health: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">healthLevel</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> systemHealthy </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">processAlertsForMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>    
</span><span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Send periodic status reports when system is healthy</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>systemHealthy</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      iterationCount</span><span class="token" style="color:hsl(207, 82%, 66%)">++</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>iterationCount </span><span class="token" style="color:hsl(207, 82%, 66%)">===</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">||</span><span> iterationCount </span><span class="token" style="color:hsl(207, 82%, 66%)">%</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">STATUS_REPORT_INTERVAL</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">===</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>        </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üì° Sending status report (iteration </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">iterationCount</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">)</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>        </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendStatusReport</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>metrics</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> iterationCount</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>      </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">else</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>      </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ö†Ô∏è  Status report skipped due to active alerts&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;=== END MONITORING CYCLE ===\n&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Startup notification</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendStartupNotification</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> message </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üöÄ *OP Interop Monitor Started*\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span>
</span></span><span><span>    </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Interval:* </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> minutes\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span>
</span></span><span><span>    </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Origin:* Chain </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">chainsInfoMock</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainOrigin</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainId</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span>
</span></span><span><span>    </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Destination:* Chain </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">chainsInfoMock</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainDestination</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainId</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">+</span><span>
</span></span><span><span>    </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">*Status Reports:* Every </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">STATUS_REPORT_INTERVAL</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> cycles</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendSlackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>message</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;good&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Main function</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">main</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;üöÄ Starting OP Interop Production Monitoring&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìä Configuration:</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   - Tracking interval: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> minutes</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   - Status reports: Every </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">STATUS_REPORT_INTERVAL</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> cycles</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   - Slack alerts: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">slackConfig</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">webhookUrl</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">&#x27;Enabled&#x27;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">&#x27;Disabled&#x27;</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   - Origin chain: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">chainsInfoMock</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainOrigin</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainId</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   - Destination chain: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">chainsInfoMock</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainDestination</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainId</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendStartupNotification</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">try</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">startTracking</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>
</span></span><span><span>      chainsInfoMock</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>      pksInfo</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>      trackingCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> 
</span></span><span><span>      </span><span class="token" style="color:hsl(29, 54%, 61%)">TRACKING_INTERVAL_MINUTES</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">error</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Production monitoring failed:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendSlackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üö® *Monitor Crashed*\n</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">error</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;danger&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">exit</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">1</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Graceful shutdown</span><span>
</span></span><span><span>process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">on</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;SIGINT&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;\nüëã Shutting down production monitor...&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">sendSlackMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;üõë *OP Interop Monitor Stopped*&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;warning&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">exit</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">main</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div></div></div><div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Custom Chain Configuration</h2><p class="text-gray-600 mb-6">Example showing how to monitor custom chains instead of the default mock configuration:</p><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="flex items-center justify-between px-3 sm:px-4 py-2 bg-gray-800 border-b border-gray-700"><div class="flex items-center space-x-2 min-w-0 flex-1"><span class="text-xs sm:text-sm font-mono text-gray-300 truncate">custom-chains-monitoring.ts</span></div><div class="flex items-center space-x-2 flex-shrink-0"><span class="text-xs text-gray-500 uppercase tracking-wide">typescript</span></div></div><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-typescript" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> 
</span></span><span><span class="token imports">  startTracking</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports"> 
</span></span><span><span class="token imports">  generateMetrics</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports">
</span></span><span><span class="token imports">  </span><span class="token imports maybe-class-name">TrackingResult</span><span class="token imports" style="color:hsl(220, 14%, 71%)">,</span><span class="token imports">
</span></span><span><span class="token imports">  </span><span class="token imports maybe-class-name">ChainsInfo</span><span class="token imports">
</span></span><span><span class="token imports"></span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;@wakeuplabs/op-interop-alerts-sdk&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Custom chain configuration for OP Sepolia &lt;-&gt; Base Sepolia</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> customChainsInfo</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">ChainsInfo</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  chainOrigin</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    chainId</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">11155420</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// OP Sepolia</span><span>
</span></span><span><span>    rpcUrl</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;https://sepolia.optimism.io&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    l2ToL2CrossDomainMessengerAddress</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;0x4200000000000000000000000000000000000023&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    messageReceiverAddress</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;0x...&#x27;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Your deployed MessageReceiver contract</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  chainDestination</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    chainId</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">84532</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Base Sepolia  </span><span>
</span></span><span><span>    rpcUrl</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;https://sepolia.base.org&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    l2ToL2CrossDomainMessengerAddress</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;0x4200000000000000000000000000000000000023&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    messageReceiverAddress</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;0x...&#x27;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Your deployed MessageReceiver contract</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> pksInfo </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  origin</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">ORIGIN_PRIVATE_KEY</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">0x</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">string</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  destination</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> process</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">env</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token" style="color:hsl(29, 54%, 61%)">DESTINATION_PRIVATE_KEY</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">as</span><span> </span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">0x</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">string</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> trackingResults</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">[</span><span class="token" style="color:hsl(220, 14%, 71%)">]</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> </span><span class="token function-variable" style="color:hsl(207, 82%, 66%)">trackingCallback</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token maybe-class-name">TrackingResult</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\n=== Custom Chains Monitoring ===</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">Time: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">timestamp</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toISOString</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">OP Sepolia -&gt; Base Sepolia: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">result</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">success</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">?</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">&#x27;‚úÖ&#x27;</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">:</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå&#x27;</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">success</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> latency </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">relayMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">localTimestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getTime</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">-</span><span> 
</span></span><span><span>                   result</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">data</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">sentMessage</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">localTimestamp</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">getTime</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">latency </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">2</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>  
</span><span><span>  trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">push</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>result</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// Generate metrics every 5 results</span><span>
</span></span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">if</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">%</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">5</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">===</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">0</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(286, 60%, 67%)">const</span><span> metrics </span><span class="token" style="color:hsl(207, 82%, 66%)">=</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">generateMetrics</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>trackingResults</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">\nüìä Metrics Summary (last </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">trackingResults</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">length</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)"> results):</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Success Rate: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">throughput</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">successRate</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">%</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   Avg Latency: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">coreMetrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">latency</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">averageLatencyMs</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(207, 82%, 66%)">/</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1000</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation method property-access" style="color:hsl(207, 82%, 66%)">toFixed</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string interpolation" style="color:hsl(29, 54%, 61%)">1</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">)</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">s</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">   System Status: </span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">metrics</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">status</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">interopStatus</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(286, 60%, 67%)">async</span><span> </span><span class="token" style="color:hsl(286, 60%, 67%)">function</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">main</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;üöÄ Starting Custom Chains Monitoring&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">log</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">üìç Monitoring: OP Sepolia (</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">customChainsInfo</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainOrigin</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainId</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">) -&gt; Base Sepolia (</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">${</span><span class="token template-string interpolation">customChainsInfo</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainDestination</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">.</span><span class="token template-string interpolation property-access">chainId</span><span class="token template-string interpolation" style="color:hsl(220, 14%, 71%)">}</span><span class="token template-string" style="color:hsl(95, 38%, 62%)">)</span><span class="token template-string template-punctuation" style="color:hsl(95, 38%, 62%)">`</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span>  
</span><span><span>  </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">try</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">await</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">startTracking</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>customChainsInfo</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> pksInfo</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> trackingCallback</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(29, 54%, 61%)">8</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span>error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">error</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&#x27;‚ùå Custom chains monitoring failed:&#x27;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">main</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token control-flow" style="color:hsl(286, 60%, 67%)">catch</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token console" style="color:hsl(29, 54%, 61%)">console</span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token property-access">error</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div><div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Package Configuration</h2><p class="text-gray-600 mb-6">Example `package.json` and scripts for your monitoring project:</p><div class="my-4 sm:my-6 rounded-lg overflow-hidden bg-midnight"><div class="flex bg-gray-800"><button class="px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0 text-white bg-midnight">package.json</button><button class="px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium transition-colors whitespace-nowrap flex-shrink-0 text-gray-300 hover:text-white bg-gray-800">tsconfig.json</button></div><div class="bg-midnight"><div><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="flex items-center justify-between px-3 sm:px-4 py-2 bg-gray-800 border-b border-gray-700"><div class="flex items-center space-x-2 min-w-0 flex-1"><span class="text-xs sm:text-sm font-mono text-gray-300 truncate">package.json</span></div><div class="flex items-center space-x-2 flex-shrink-0"><span class="text-xs text-gray-500 uppercase tracking-wide">json</span></div></div><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-json" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;name&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;my-interop-monitor&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;version&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;1.0.0&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;description&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;Cross-chain monitoring for OP Superchain&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;main&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;dist/index.js&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;scripts&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;dev&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tsx watch src/index.ts&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;build&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tsc&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;start&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;node dist/index.js&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;start:basic&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tsx src/basic-monitoring.ts&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;start:production&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tsx src/production-monitoring.ts&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;start:custom&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tsx src/custom-chains-monitoring.ts&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;test&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;tsx src/test-installation.ts&quot;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;dependencies&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;@wakeuplabs/op-interop-alerts-sdk&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;^0.3.0&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;dotenv&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;^16.0.0&quot;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;devDependencies&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;@types/node&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;^20.0.0&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;tsx&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;^4.0.0&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;typescript&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;^5.0.0&quot;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;engines&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span></span><span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;node&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;&gt;=18.0.0&quot;</span><span>
</span></span><span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div></div></div><div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Running the Examples</h2><p class="text-gray-600 mb-6">Follow these steps to run the examples in your own project:</p><div class="bg-gray-50 border border-gray-200 rounded-lg p-6"><h3 class="font-semibold text-gray-900 mb-3">Step-by-step Setup</h3><div class="space-y-4"><div class="flex items-start space-x-3"><div class="w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold">1</div><div><h4 class="font-medium text-gray-900">Create a new project</h4><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-bash" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:hsl(207, 82%, 66%)">mkdir</span><span> my-interop-monitor
</span></span><span><span></span><span class="token" style="color:hsl(29, 54%, 61%)">cd</span><span> my-interop-monitor
</span></span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> init -y</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div><div class="flex items-start space-x-3"><div class="w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold">2</div><div><h4 class="font-medium text-gray-900">Install dependencies</h4><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-bash" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> @wakeuplabs/op-interop-alerts-sdk dotenv
</span></span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> </span><span class="token" style="color:hsl(207, 82%, 66%)">install</span><span> -D @types/node tsx typescript</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div><div class="flex items-start space-x-3"><div class="w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold">3</div><div><h4 class="font-medium text-gray-900">Set up environment</h4><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-bash" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:hsl(207, 82%, 66%)">cp</span><span> .env.example .env
</span></span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Edit .env with your private keys and Slack webhook</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div><div class="flex items-start space-x-3"><div class="w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold">4</div><div><h4 class="font-medium text-gray-900">Copy and run examples</h4><div class="relative my-4 sm:my-6 rounded-lg overflow-hidden"><div class="relative"><pre class="code-block-mobile" style="background:#14141A;color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0;overflow:auto;border-radius:0"><code class="language-bash" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Basic monitoring</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> run start:basic
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Production monitoring with Slack</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> run start:production
</span></span><span>
</span><span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Custom chains monitoring</span><span>
</span></span><span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">npm</span><span> run start:custom</span></span></code></pre><button class="absolute top-2 right-2 p-1.5 sm:p-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-blue" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 sm:w-4 sm:h-4 text-gray-300"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></div></div></div></div></div></div><div class="mb-8"><div class="bg-orange/5 border border-orange/20 rounded-lg p-6"><div class="flex items-start space-x-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link w-5 h-5 text-orange mt-0.5 flex-shrink-0"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg><div><h3 class="font-semibold text-midnight mb-2">Complete Example Repository</h3><p class="text-gray-700 mb-3">Find the complete working example with all the code shown above in our repository:</p><a href="https://github.com/wakeuplabs-io/op-interop-alerts/tree/develop/packages/example" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-orange text-white font-medium rounded-lg hover:bg-orange/80 transition-colors">View Example Code<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link w-4 h-4 ml-2"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></div></div></div></div><div class="bg-orange/5 border border-orange/20 rounded-lg p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Ready to Start Monitoring?</h2><p class="text-gray-700 mb-4">These examples provide a solid foundation for monitoring your cross-chain operations. Customize them based on your specific needs and infrastructure.</p><div class="flex flex-col sm:flex-row gap-3"><a class="inline-flex items-center px-4 py-2 bg-orange text-white font-medium rounded-lg hover:bg-orange/80 transition-colors" href="/op-interop-alerts/installation/">Get Started<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right w-4 h-4 ml-2"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></a><div class="flex gap-3"><a href="https://www.npmjs.com/package/@wakeuplabs/op-interop-alerts-sdk" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"><img src="/npm-logo-red.png" alt="NPM" class="h-3 w-auto mr-2"/>NPM Package</a><a href="https://github.com/wakeuplabs-io/op-interop-alerts" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors"><img src="/github-mark.png" alt="GitHub" class="h-4 w-auto mr-2"/>Repository</a></div></div></div></div></div></main></div><footer class="bg-gray-50 border-t border-gray-300"><div class="px-4 sm:px-6 lg:px-8 py-8"><div class="flex flex-col md:flex-row justify-between items-center"><div class="flex items-center space-x-4 mb-6 md:mb-0"><img src="/logo-wu.png" alt="WakeUp Labs" class="h-8 w-auto"/><div class="flex flex-col"><span class="text-sm font-medium text-midnight">OP Interop Alerts SDK</span><span class="text-xs text-gray-500">Cross-chain monitoring documentation</span></div></div><div class="flex items-center space-x-4"><a href="https://www.npmjs.com/package/@wakeuplabs/op-interop-alerts-sdk" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity p-2" title="NPM Package"><img src="/npm-logo-red.png" alt="NPM" class="h-4 w-auto"/></a><a href="https://github.com/wakeuplabs-io/op-interop-alerts" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity p-2" title="GitHub Repository"><img src="/github-mark.png" alt="GitHub" class="h-5 w-auto"/></a><a href="https://wakeuplabs.io" target="_blank" rel="noopener noreferrer" class="hover:opacity-80 transition-opacity p-2" title="WakeUp Labs"><img src="/logo-wu-isotype.png" alt="WakeUp Labs" class="h-4 w-auto"/></a></div></div></div></footer></div><script src="/op-interop-alerts/_next/static/chunks/webpack-778a9115d1e615c0.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/op-interop-alerts/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/op-interop-alerts/_next/static/css/d8d0d207bb4bc00b.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[95751,[],\"\"]\n5:I[79550,[\"231\",\"static/chunks/231-d3fb88463de409bd.js\",\"897\",\"static/chunks/897-d672c0d1c9e62386.js\",\"668\",\"static/chunks/app/examples/page-db09046c5213457e.js\"],\"CodeTabs\"]\n6:I[79550,[\"231\",\"static/chunks/231-d3fb88463de409bd.js\",\"897\",\"static/chunks/897-d672c0d1c9e62386.js\",\"668\",\"static/chunks/app/examples/page-db09046c5213457e.js\"],\"TabPanel\"]\n7:I[79550,[\"231\",\"static/chunks/231-d3fb88463de409bd.js\",\"897\",\"static/chunks/897-d672c0d1c9e62386.js\",\"668\",\"static/chunks/app/examples/page-db09046c5213457e.js\"],\"default\"]\nc:I[231,[\"231\",\"static/chunks/231-d3fb88463de409bd.js\",\"897\",\"static/chunks/897-d672c0d1c9e62386.js\",\"668\",\"static/chunks/app/examples/page-db09046c5213457e.js\"],\"\"]\nd:I[39275,[],\"\"]\ne:I[61343,[],\"\"]\nf:I[12292,[\"231\",\"static/chunks/231-d3fb88463de409bd.js\",\"185\",\"static/chunks/app/layout-63c6c6c5ccaf3884.js\"],\"default\"]\n10:I[78573,[\"231\",\"static/chunks/231-d3fb88463de409bd.js\",\"185\",\"static/chunks/app/layout-63c6c6c5ccaf3884.js\"],\"default\"]\n12:I[76130,[],\"\"]\n8:T103d,"])</script><script>self.__next_f.push([1,"import { \n  startTracking, \n  generateMetrics, \n  TrackingResult,\n  InteropMetrics,\n  hasConsecutiveFailures,\n  getConsecutiveFailureCount\n} from '@wakeuplabs/op-interop-alerts-sdk';\nimport { chainsInfoMock } from '@wakeuplabs/op-interop-alerts-sdk/config';\n\n// Configuration\nconst pksInfo = {\n  origin: process.env.ORIGIN_PRIVATE_KEY as `0x${string}`,\n  destination: process.env.DESTINATION_PRIVATE_KEY as `0x${string}`,\n};\n\nconst TRACKING_INTERVAL_MINUTES = 10;\nconst METRICS_THRESHOLD = 3; // Generate metrics after 3 data points\n\n// Storage for tracking results\nconst trackingResults: TrackingResult[] = [];\n\n// Tracking callback with basic logging\nconst trackingCallback = (result: TrackingResult) =\u003e {\n  const timestamp = result.timestamp.toISOString();\n  \n  console.log(`\\n=== [${timestamp}] TRACKING CYCLE ===`);\n  \n  if (result.success \u0026\u0026 result.data) {\n    const { sentMessage, relayMessage } = result.data;\n    const latency = relayMessage.localTimestamp.getTime() - sentMessage.localTimestamp.getTime();\n    \n    console.log('‚úÖ Cross-chain message successful');\n    console.log(`   Latency: ${(latency / 1000).toFixed(2)}s`);\n    console.log(`   Send Gas: ${sentMessage.gasUsed.toString()}`);\n    console.log(`   Relay Gas: ${relayMessage.gasUsed.toString()}`);\n    console.log(`   Send Tx: ${sentMessage.transactionHash}`);\n    console.log(`   Relay Tx: ${relayMessage.transactionHash}`);\n  } else {\n    console.log('‚ùå Cross-chain message failed');\n    if (result.error) {\n      console.log(`   Error: ${result.error.error.message}`);\n    }\n  }\n  \n  // Store result for metrics\n  trackingResults.push(result);\n  console.log(`   Total results: ${trackingResults.length}`);\n  \n  // Check for consecutive failures\n  if (hasConsecutiveFailures(trackingResults, 3)) {\n    const failureCount = getConsecutiveFailureCount(trackingResults);\n    console.log(`‚ö†Ô∏è  WARNING: ${failureCount} consecutive failures detected!`);\n  }\n  \n  // Generate metrics when we have enough data\n  if (trackingResults.length \u003e= METRICS_THRESHOLD) {\n    displayMetrics();\n  }\n  \n  console.log('=== END CYCLE ===\\n');\n};\n\nfunction displayMetrics() {\n  try {\n    const metrics: InteropMetrics = generateMetrics(trackingResults);\n    \n    console.log('\\nüìä === METRICS SUMMARY ===');\n    console.log(`System Status: ${metrics.status.interopStatus} (${metrics.status.healthLevel})`);\n    console.log(`Success Rate: ${metrics.coreMetrics.throughput.successRate.toFixed(1)}%`);\n    console.log(`Average Latency: ${(metrics.coreMetrics.latency.averageLatencyMs / 1000).toFixed(1)}s`);\n    console.log(`P95 Latency: ${(metrics.coreMetrics.latency.p95LatencyMs / 1000).toFixed(1)}s`);\n    console.log(`Messages/Hour: ${metrics.coreMetrics.throughput.messagesPerHour.toFixed(1)}`);\n    \n    if (metrics.health.alerts.length \u003e 0) {\n      console.log('\\nüö® Health Alerts:');\n      metrics.health.alerts.forEach((alert, i) =\u003e {\n        console.log(`  ${i + 1}. [${alert.level}] ${alert.message}`);\n      });\n    }\n    \n    if (metrics.health.recommendations.length \u003e 0) {\n      console.log('\\nüí° Recommendations:');\n      metrics.health.recommendations.forEach((rec, i) =\u003e {\n        console.log(`  ${i + 1}. ${rec}`);\n      });\n    }\n    \n    console.log('=== END METRICS ===\\n');\n  } catch (error) {\n    console.error('‚ùå Error generating metrics:', error);\n  }\n}\n\n// Start monitoring\nasync function main() {\n  console.log('üöÄ Starting OP Interop Basic Monitoring');\n  console.log(`üìä Tracking interval: ${TRACKING_INTERVAL_MINUTES} minutes`);\n  console.log(`üìà Metrics threshold: ${METRICS_THRESHOLD} data points\\n`);\n  \n  try {\n    await startTracking(\n      chainsInfoMock, \n      pksInfo, \n      trackingCallback, \n      TRACKING_INTERVAL_MINUTES\n    );\n  } catch (error) {\n    console.error('‚ùå Monitoring failed:', error);\n    process.exit(1);\n  }\n}\n\n// Handle graceful shutdown\nprocess.on('SIGINT', () =\u003e {\n  console.log('\\nüëã Shutting down monitoring...');\n  if (trackingResults.length \u003e 0) {\n    console.log(`üìä Final metrics from ${trackingResults.length} data points:`);\n    displayMetrics();\n  }\n  process.exit(0);\n});\n\nmain().catch(console.error);"])</script><script>self.__next_f.push([1,"9:Tfcf,"])</script><script>self.__next_f.push([1,"const { \n  startTracking, \n  generateMetrics, \n  hasConsecutiveFailures,\n  getConsecutiveFailureCount\n} = require('@wakeuplabs/op-interop-alerts-sdk');\nconst { chainsInfoMock } = require('@wakeuplabs/op-interop-alerts-sdk/config');\n\n// Configuration\nconst pksInfo = {\n  origin: process.env.ORIGIN_PRIVATE_KEY,\n  destination: process.env.DESTINATION_PRIVATE_KEY,\n};\n\nconst TRACKING_INTERVAL_MINUTES = 10;\nconst METRICS_THRESHOLD = 3; // Generate metrics after 3 data points\n\n// Storage for tracking results\nconst trackingResults = [];\n\n// Tracking callback with basic logging\nconst trackingCallback = (result) =\u003e {\n  const timestamp = result.timestamp.toISOString();\n  \n  console.log(`\\n=== [${timestamp}] TRACKING CYCLE ===`);\n  \n  if (result.success \u0026\u0026 result.data) {\n    const { sentMessage, relayMessage } = result.data;\n    const latency = relayMessage.localTimestamp.getTime() - sentMessage.localTimestamp.getTime();\n    \n    console.log('‚úÖ Cross-chain message successful');\n    console.log(`   Latency: ${(latency / 1000).toFixed(2)}s`);\n    console.log(`   Send Gas: ${sentMessage.gasUsed.toString()}`);\n    console.log(`   Relay Gas: ${relayMessage.gasUsed.toString()}`);\n    console.log(`   Send Tx: ${sentMessage.transactionHash}`);\n    console.log(`   Relay Tx: ${relayMessage.transactionHash}`);\n  } else {\n    console.log('‚ùå Cross-chain message failed');\n    if (result.error) {\n      console.log(`   Error: ${result.error.error.message}`);\n    }\n  }\n  \n  // Store result for metrics\n  trackingResults.push(result);\n  console.log(`   Total results: ${trackingResults.length}`);\n  \n  // Check for consecutive failures\n  if (hasConsecutiveFailures(trackingResults, 3)) {\n    const failureCount = getConsecutiveFailureCount(trackingResults);\n    console.log(`‚ö†Ô∏è  WARNING: ${failureCount} consecutive failures detected!`);\n  }\n  \n  // Generate metrics when we have enough data\n  if (trackingResults.length \u003e= METRICS_THRESHOLD) {\n    displayMetrics();\n  }\n  \n  console.log('=== END CYCLE ===\\n');\n};\n\nfunction displayMetrics() {\n  try {\n    const metrics = generateMetrics(trackingResults);\n    \n    console.log('\\nüìä === METRICS SUMMARY ===');\n    console.log(`System Status: ${metrics.status.interopStatus} (${metrics.status.healthLevel})`);\n    console.log(`Success Rate: ${metrics.coreMetrics.throughput.successRate.toFixed(1)}%`);\n    console.log(`Average Latency: ${(metrics.coreMetrics.latency.averageLatencyMs / 1000).toFixed(1)}s`);\n    console.log(`P95 Latency: ${(metrics.coreMetrics.latency.p95LatencyMs / 1000).toFixed(1)}s`);\n    console.log(`Messages/Hour: ${metrics.coreMetrics.throughput.messagesPerHour.toFixed(1)}`);\n    \n    if (metrics.health.alerts.length \u003e 0) {\n      console.log('\\nüö® Health Alerts:');\n      metrics.health.alerts.forEach((alert, i) =\u003e {\n        console.log(`  ${i + 1}. [${alert.level}] ${alert.message}`);\n      });\n    }\n    \n    if (metrics.health.recommendations.length \u003e 0) {\n      console.log('\\nüí° Recommendations:');\n      metrics.health.recommendations.forEach((rec, i) =\u003e {\n        console.log(`  ${i + 1}. ${rec}`);\n      });\n    }\n    \n    console.log('=== END METRICS ===\\n');\n  } catch (error) {\n    console.error('‚ùå Error generating metrics:', error);\n  }\n}\n\n// Start monitoring\nasync function main() {\n  console.log('üöÄ Starting OP Interop Basic Monitoring');\n  console.log(`üìä Tracking interval: ${TRACKING_INTERVAL_MINUTES} minutes`);\n  console.log(`üìà Metrics threshold: ${METRICS_THRESHOLD} data points\\n`);\n  \n  try {\n    await startTracking(\n      chainsInfoMock, \n      pksInfo, \n      trackingCallback, \n      TRACKING_INTERVAL_MINUTES\n    );\n  } catch (error) {\n    console.error('‚ùå Monitoring failed:', error);\n    process.exit(1);\n  }\n}\n\n// Handle graceful shutdown\nprocess.on('SIGINT', () =\u003e {\n  console.log('\\nüëã Shutting down monitoring...');\n  if (trackingResults.length \u003e 0) {\n    console.log(`üìä Final metrics from ${trackingResults.length} data points:`);\n    displayMetrics();\n  }\n  process.exit(0);\n});\n\nmain().catch(console.error);"])</script><script>self.__next_f.push([1,"a:T20eb,"])</script><script>self.__next_f.push([1,"import { \n  startTracking, \n  generateMetrics, \n  processAlerts,\n  createAlertContext,\n  createSimpleNotificationCallback,\n  DEFAULT_ALERT_RULES,\n  TrackingResult,\n  InteropMetrics,\n  AlertNotification,\n  NotificationChannel\n} from '@wakeuplabs/op-interop-alerts-sdk';\nimport { chainsInfoMock } from '@wakeuplabs/op-interop-alerts-sdk/config';\n\n// Configuration\nconst pksInfo = {\n  origin: process.env.ORIGIN_PRIVATE_KEY as `0x${string}`,\n  destination: process.env.DESTINATION_PRIVATE_KEY as `0x${string}`,\n};\n\nconst TRACKING_INTERVAL_MINUTES = parseInt(process.env.TRACKING_INTERVAL_MINUTES || \"5\");\nconst STATUS_REPORT_INTERVAL = 12; // Send status every 12 iterations (1 hour if 5min intervals)\n\n// Slack configuration\nconst slackConfig = {\n  webhookUrl: process.env.SLACK_WEBHOOK_URL,\n  channel: process.env.SLACK_CHANNEL || '#interop-alerts',\n  username: process.env.SLACK_USERNAME || 'OP Interop Monitor',\n  iconEmoji: process.env.SLACK_ICON_EMOJI || ':zap:'\n};\n\n// Storage and counters\nconst trackingResults: TrackingResult[] = [];\nlet iterationCount = 0;\nconst startTime = Date.now();\n\n// Slack notification helper\nasync function sendSlackMessage(\n  message: string, \n  color: 'good' | 'warning' | 'danger' = 'good'\n): Promise\u003cboolean\u003e {\n  if (!slackConfig.webhookUrl) {\n    console.log('üì± Slack not configured, logging message:', message);\n    return false;\n  }\n  \n  try {\n    const payload = {\n      username: slackConfig.username,\n      icon_emoji: slackConfig.iconEmoji,\n      channel: slackConfig.channel,\n      attachments: [{\n        color,\n        text: message,\n        footer: 'OP Interop Alerts',\n        ts: Math.floor(Date.now() / 1000)\n      }]\n    };\n\n    const response = await fetch(slackConfig.webhookUrl, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload)\n    });\n\n    return response.ok;\n  } catch (error) {\n    console.error('‚ùå Error sending Slack message:', error);\n    return false;\n  }\n}\n\n// Alert notification callback\nconst alertNotificationCallback = createSimpleNotificationCallback({\n  [NotificationChannel.SLACK]: async (notification: AlertNotification) =\u003e {\n    const { alert, rule, context } = notification;\n    \n    console.log(`üö® ALERT TRIGGERED: [${alert.severity}] ${alert.title}`);\n    \n    let slackMessage = `üö® *${alert.title}*\\n`;\n    slackMessage += `*Severity:* ${alert.severity}\\n`;\n    slackMessage += `*Category:* ${alert.category}\\n`;\n    slackMessage += `*Message:* ${alert.message}\\n`;\n    \n    // Add key metrics\n    const metrics = context.metrics;\n    slackMessage += `\\n*üìä Current Status:*\\n`;\n    slackMessage += `‚Ä¢ System: ${metrics.status.interopStatus} (${metrics.status.healthLevel})\\n`;\n    slackMessage += `‚Ä¢ Success Rate: ${metrics.coreMetrics.throughput.successRate.toFixed(1)}%\\n`;\n    slackMessage += `‚Ä¢ Avg Latency: ${(metrics.coreMetrics.latency.averageLatencyMs / 1000).toFixed(1)}s\\n`;\n    \n    const color = alert.severity === 'CRITICAL' ? 'danger' : 'warning';\n    const success = await sendSlackMessage(slackMessage, color);\n    \n    if (success) {\n      console.log('‚úÖ Alert sent to Slack');\n    } else {\n      console.log('‚ùå Failed to send alert to Slack');\n    }\n  }\n});\n\n// Status report function\nasync function sendStatusReport(metrics: InteropMetrics, iteration: number) {\n  const uptime = Math.floor((Date.now() - startTime) / 1000 / 60); // minutes\n  \n  let statusMessage = `‚úÖ *OP Interop Status: Healthy*\\n`;\n  statusMessage += `*Iteration:* ${iteration}\\n`;\n  statusMessage += `*Uptime:* ${uptime} minutes\\n\\n`;\n  \n  statusMessage += `*üìä Current Metrics:*\\n`;\n  statusMessage += `‚Ä¢ Status: ${metrics.status.interopStatus} (${metrics.status.healthLevel})\\n`;\n  statusMessage += `‚Ä¢ Success Rate: ${metrics.coreMetrics.throughput.successRate.toFixed(1)}%\\n`;\n  statusMessage += `‚Ä¢ Avg Latency: ${(metrics.coreMetrics.latency.averageLatencyMs / 1000).toFixed(1)}s\\n`;\n  statusMessage += `‚Ä¢ P95 Latency: ${(metrics.coreMetrics.latency.p95LatencyMs / 1000).toFixed(1)}s\\n`;\n  statusMessage += `‚Ä¢ Messages/Hour: ${metrics.coreMetrics.throughput.messagesPerHour.toFixed(1)}\\n`;\n  statusMessage += `‚Ä¢ Total Messages: ${metrics.coreMetrics.throughput.totalMessages}`;\n  \n  const success = await sendSlackMessage(statusMessage, 'good');\n  console.log(success ? '‚úÖ Status report sent to Slack' : '‚ùå Failed to send status report');\n}\n\n// Alert processing function\nasync function processAlertsForMetrics(metrics: InteropMetrics, trackingData: TrackingResult[]) {\n  try {\n    const alertContext = createAlertContext(\n      metrics,\n      trackingData,\n      undefined,\n      60 * 60 * 1000 // 1 hour time window\n    );\n\n    const alertResults = await processAlerts(\n      DEFAULT_ALERT_RULES,\n      alertContext,\n      alertNotificationCallback\n    );\n\n    const triggeredAlerts = alertResults.filter(result =\u003e result.triggered);\n    console.log(`üìã Alert processing: ${alertResults.length} rules, ${triggeredAlerts.length} triggered`);\n\n    if (triggeredAlerts.length \u003e 0) {\n      console.log('üö® Triggered alerts:');\n      triggeredAlerts.forEach((result, index) =\u003e {\n        console.log(`   ${index + 1}. [${result.alert?.severity}] ${result.rule.name}`);\n      });\n    }\n\n    return triggeredAlerts.length === 0;\n  } catch (error) {\n    console.error('‚ùå Error processing alerts:', error);\n    return false;\n  }\n}\n\n// Main tracking callback\nconst trackingCallback = async (result: TrackingResult) =\u003e {\n  console.log(`\\n=== [${result.timestamp.toISOString()}] PRODUCTION MONITORING ===`);\n  \n  if (result.success \u0026\u0026 result.data) {\n    const { sentMessage, relayMessage } = result.data;\n    const latency = relayMessage.localTimestamp.getTime() - sentMessage.localTimestamp.getTime();\n    \n    console.log(`‚úÖ Cross-chain operation successful (${(latency / 1000).toFixed(2)}s latency)`);\n  } else {\n    console.log(`‚ùå Cross-chain operation failed: ${result.error?.error.message}`);\n  }\n  \n  trackingResults.push(result);\n  \n  // Generate metrics and process alerts\n  if (trackingResults.length \u003e= 1) {\n    const metrics = generateMetrics(trackingResults);\n    console.log(`üìä System: ${metrics.status.interopStatus} | Health: ${metrics.status.healthLevel}`);\n    \n    const systemHealthy = await processAlertsForMetrics(metrics, trackingResults);\n    \n    // Send periodic status reports when system is healthy\n    if (systemHealthy) {\n      iterationCount++;\n      if (iterationCount === 1 || iterationCount % STATUS_REPORT_INTERVAL === 0) {\n        console.log(`üì° Sending status report (iteration ${iterationCount})`);\n        await sendStatusReport(metrics, iterationCount);\n      }\n    } else {\n      console.log('‚ö†Ô∏è  Status report skipped due to active alerts');\n    }\n  }\n  \n  console.log('=== END MONITORING CYCLE ===\\n');\n};\n\n// Startup notification\nasync function sendStartupNotification() {\n  const message = `üöÄ *OP Interop Monitor Started*\\n` +\n    `*Interval:* ${TRACKING_INTERVAL_MINUTES} minutes\\n` +\n    `*Origin:* Chain ${chainsInfoMock.chainOrigin.chainId}\\n` +\n    `*Destination:* Chain ${chainsInfoMock.chainDestination.chainId}\\n` +\n    `*Status Reports:* Every ${STATUS_REPORT_INTERVAL} cycles`;\n  \n  await sendSlackMessage(message, 'good');\n}\n\n// Main function\nasync function main() {\n  console.log('üöÄ Starting OP Interop Production Monitoring');\n  console.log(`üìä Configuration:`);\n  console.log(`   - Tracking interval: ${TRACKING_INTERVAL_MINUTES} minutes`);\n  console.log(`   - Status reports: Every ${STATUS_REPORT_INTERVAL} cycles`);\n  console.log(`   - Slack alerts: ${slackConfig.webhookUrl ? 'Enabled' : 'Disabled'}`);\n  console.log(`   - Origin chain: ${chainsInfoMock.chainOrigin.chainId}`);\n  console.log(`   - Destination chain: ${chainsInfoMock.chainDestination.chainId}\\n`);\n  \n  await sendStartupNotification();\n  \n  try {\n    await startTracking(\n      chainsInfoMock, \n      pksInfo, \n      trackingCallback, \n      TRACKING_INTERVAL_MINUTES\n    );\n  } catch (error) {\n    console.error('‚ùå Production monitoring failed:', error);\n    await sendSlackMessage(`üö® *Monitor Crashed*\\n${error}`, 'danger');\n    process.exit(1);\n  }\n}\n\n// Graceful shutdown\nprocess.on('SIGINT', async () =\u003e {\n  console.log('\\nüëã Shutting down production monitor...');\n  await sendSlackMessage('üõë *OP Interop Monitor Stopped*', 'warning');\n  process.exit(0);\n});\n\nmain().catch(console.error);"])</script><script>self.__next_f.push([1,"b:T978,"])</script><script>self.__next_f.push([1,"import { \n  startTracking, \n  generateMetrics,\n  TrackingResult,\n  ChainsInfo\n} from '@wakeuplabs/op-interop-alerts-sdk';\n\n// Custom chain configuration for OP Sepolia \u003c-\u003e Base Sepolia\nconst customChainsInfo: ChainsInfo = {\n  chainOrigin: {\n    chainId: 11155420, // OP Sepolia\n    rpcUrl: 'https://sepolia.optimism.io',\n    l2ToL2CrossDomainMessengerAddress: '0x4200000000000000000000000000000000000023',\n    messageReceiverAddress: '0x...' // Your deployed MessageReceiver contract\n  },\n  chainDestination: {\n    chainId: 84532, // Base Sepolia  \n    rpcUrl: 'https://sepolia.base.org',\n    l2ToL2CrossDomainMessengerAddress: '0x4200000000000000000000000000000000000023',\n    messageReceiverAddress: '0x...' // Your deployed MessageReceiver contract\n  }\n};\n\nconst pksInfo = {\n  origin: process.env.ORIGIN_PRIVATE_KEY as `0x${string}`,\n  destination: process.env.DESTINATION_PRIVATE_KEY as `0x${string}`,\n};\n\nconst trackingResults: TrackingResult[] = [];\n\nconst trackingCallback = (result: TrackingResult) =\u003e {\n  console.log(`\\n=== Custom Chains Monitoring ===`);\n  console.log(`Time: ${result.timestamp.toISOString()}`);\n  console.log(`OP Sepolia -\u003e Base Sepolia: ${result.success ? '‚úÖ' : '‚ùå'}`);\n  \n  if (result.success \u0026\u0026 result.data) {\n    const latency = result.data.relayMessage.localTimestamp.getTime() - \n                   result.data.sentMessage.localTimestamp.getTime();\n    console.log(`Latency: ${(latency / 1000).toFixed(2)}s`);\n  }\n  \n  trackingResults.push(result);\n  \n  // Generate metrics every 5 results\n  if (trackingResults.length % 5 === 0) {\n    const metrics = generateMetrics(trackingResults);\n    console.log(`\\nüìä Metrics Summary (last ${trackingResults.length} results):`);\n    console.log(`   Success Rate: ${metrics.coreMetrics.throughput.successRate.toFixed(1)}%`);\n    console.log(`   Avg Latency: ${(metrics.coreMetrics.latency.averageLatencyMs / 1000).toFixed(1)}s`);\n    console.log(`   System Status: ${metrics.status.interopStatus}`);\n  }\n};\n\nasync function main() {\n  console.log('üöÄ Starting Custom Chains Monitoring');\n  console.log(`üìç Monitoring: OP Sepolia (${customChainsInfo.chainOrigin.chainId}) -\u003e Base Sepolia (${customChainsInfo.chainDestination.chainId})`);\n  \n  try {\n    await startTracking(customChainsInfo, pksInfo, trackingCallback, 8);\n  } catch (error) {\n    console.error('‚ùå Custom chains monitoring failed:', error);\n  }\n}\n\nmain().catch(console.error);"])</script><script>self.__next_f.push([1,"13:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/op-interop-alerts/_next/static/css/d8d0d207bb4bc00b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"vaz_tpm5HaGxb8wvZm7sd\",\"assetPrefix\":\"/op-interop-alerts\",\"initialCanonicalUrl\":\"/examples/\",\"initialTree\":[\"\",{\"children\":[\"examples\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"examples\",{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"className\":\"max-w-none sm:max-w-4xl mx-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-3 mb-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-10 h-10 bg-orange/10 rounded-lg flex items-center justify-center\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-code w-5 h-5 text-orange\",\"children\":[[\"$\",\"polyline\",\"z7tu5w\",{\"points\":\"16 18 22 12 16 6\"}],[\"$\",\"polyline\",\"1eg1df\",{\"points\":\"8 6 2 12 8 18\"}],\"$undefined\"]}]}],[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold text-midnight\",\"children\":\"Examples\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-lg text-gray-600\",\"children\":\"Complete examples showing how to use all modules of the OP Interop Alerts SDK together for comprehensive cross-chain monitoring and alerting.\"}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-gray-900 mb-4\",\"children\":\"Example Overview\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-6\",\"children\":\"These examples demonstrate real-world usage patterns combining tracking, metrics generation, and intelligent alerting. Each example is complete and ready to run.\"}],[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-3 gap-4 mb-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-2 mb-2\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-code w-4 h-4 text-orange\",\"children\":[[\"$\",\"polyline\",\"z7tu5w\",{\"points\":\"16 18 22 12 16 6\"}],[\"$\",\"polyline\",\"1eg1df\",{\"points\":\"8 6 2 12 8 18\"}],\"$undefined\"]}],[\"$\",\"h3\",null,{\"className\":\"font-semibold text-gray-900\",\"children\":\"Basic Monitoring\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-gray-600\",\"children\":\"Simple setup with console logging and basic metrics\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-2 mb-2\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-triangle-alert w-4 h-4 text-orange\",\"children\":[[\"$\",\"path\",\"wmoenq\",{\"d\":\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\"}],[\"$\",\"path\",\"juzpu7\",{\"d\":\"M12 9v4\"}],[\"$\",\"path\",\"p32p05\",{\"d\":\"M12 17h.01\"}],\"$undefined\"]}],[\"$\",\"h3\",null,{\"className\":\"font-semibold text-gray-900\",\"children\":\"Production Monitoring\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-gray-600\",\"children\":\"Full production setup with Slack alerts and custom rules\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-2 mb-2\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-bar-chart3 w-4 h-4 text-orange\",\"children\":[[\"$\",\"path\",\"1s2lah\",{\"d\":\"M3 3v18h18\"}],[\"$\",\"path\",\"2bz60n\",{\"d\":\"M18 17V9\"}],[\"$\",\"path\",\"1frdt8\",{\"d\":\"M13 17V5\"}],[\"$\",\"path\",\"17ska0\",{\"d\":\"M8 17v-3\"}],\"$undefined\"]}],[\"$\",\"h3\",null,{\"className\":\"font-semibold text-gray-900\",\"children\":\"Advanced Analytics\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-gray-600\",\"children\":\"Custom metrics and multi-channel alerting\"}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-gray-900 mb-4\",\"children\":\"Basic Monitoring Setup\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-6\",\"children\":\"A simple example that demonstrates the core functionality with console output:\"}],[\"$\",\"$L5\",null,{\"children\":[[\"$\",\"$L6\",null,{\"label\":\"TypeScript\",\"children\":[\"$\",\"$L7\",null,{\"language\":\"typescript\",\"filename\":\"basic-monitoring.ts\",\"children\":\"$8\"}]}],[\"$\",\"$L6\",null,{\"label\":\"JavaScript\",\"children\":[\"$\",\"$L7\",null,{\"language\":\"javascript\",\"filename\":\"basic-monitoring.js\",\"children\":\"$9\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-gray-900 mb-4\",\"children\":\"Production Monitoring with Slack Alerts\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-6\",\"children\":\"A production-ready example with Slack notifications and comprehensive alerting:\"}],[\"$\",\"$L5\",null,{\"children\":[[\"$\",\"$L6\",null,{\"label\":\"TypeScript\",\"children\":[\"$\",\"$L7\",null,{\"language\":\"typescript\",\"filename\":\"production-monitoring.ts\",\"children\":\"$a\"}]}],[\"$\",\"$L6\",null,{\"label\":\"Environment Variables\",\"children\":[\"$\",\"$L7\",null,{\"language\":\"bash\",\"filename\":\".env\",\"children\":\"# Required: Private keys\\nORIGIN_PRIVATE_KEY=0x...\\nDESTINATION_PRIVATE_KEY=0x...\\n\\n# Optional: Tracking configuration\\nTRACKING_INTERVAL_MINUTES=5\\n\\n# Slack configuration\\nSLACK_WEBHOOK_URL=https://hooks.slack.com/services/...\\nSLACK_CHANNEL=#interop-alerts\\nSLACK_USERNAME=OP Interop Monitor\\nSLACK_ICON_EMOJI=:zap:\\n\\n# Optional: Custom webhook for additional notifications\\nCUSTOM_WEBHOOK_URL=https://your-api.com/webhooks/alerts\\nWEBHOOK_TOKEN=your-auth-token\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-gray-900 mb-4\",\"children\":\"Custom Chain Configuration\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-6\",\"children\":\"Example showing how to monitor custom chains instead of the default mock configuration:\"}],[\"$\",\"$L7\",null,{\"language\":\"typescript\",\"filename\":\"custom-chains-monitoring.ts\",\"children\":\"$b\"}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-gray-900 mb-4\",\"children\":\"Package Configuration\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-6\",\"children\":\"Example `package.json` and scripts for your monitoring project:\"}],[\"$\",\"$L5\",null,{\"children\":[[\"$\",\"$L6\",null,{\"label\":\"package.json\",\"children\":[\"$\",\"$L7\",null,{\"language\":\"json\",\"filename\":\"package.json\",\"children\":\"{\\n  \\\"name\\\": \\\"my-interop-monitor\\\",\\n  \\\"version\\\": \\\"1.0.0\\\",\\n  \\\"description\\\": \\\"Cross-chain monitoring for OP Superchain\\\",\\n  \\\"main\\\": \\\"dist/index.js\\\",\\n  \\\"scripts\\\": {\\n    \\\"dev\\\": \\\"tsx watch src/index.ts\\\",\\n    \\\"build\\\": \\\"tsc\\\",\\n    \\\"start\\\": \\\"node dist/index.js\\\",\\n    \\\"start:basic\\\": \\\"tsx src/basic-monitoring.ts\\\",\\n    \\\"start:production\\\": \\\"tsx src/production-monitoring.ts\\\",\\n    \\\"start:custom\\\": \\\"tsx src/custom-chains-monitoring.ts\\\",\\n    \\\"test\\\": \\\"tsx src/test-installation.ts\\\"\\n  },\\n  \\\"dependencies\\\": {\\n    \\\"@wakeuplabs/op-interop-alerts-sdk\\\": \\\"^0.3.0\\\",\\n    \\\"dotenv\\\": \\\"^16.0.0\\\"\\n  },\\n  \\\"devDependencies\\\": {\\n    \\\"@types/node\\\": \\\"^20.0.0\\\",\\n    \\\"tsx\\\": \\\"^4.0.0\\\",\\n    \\\"typescript\\\": \\\"^5.0.0\\\"\\n  },\\n  \\\"engines\\\": {\\n    \\\"node\\\": \\\"\u003e=18.0.0\\\"\\n  }\\n}\"}]}],[\"$\",\"$L6\",null,{\"label\":\"tsconfig.json\",\"children\":[\"$\",\"$L7\",null,{\"language\":\"json\",\"filename\":\"tsconfig.json\",\"children\":\"{\\n  \\\"compilerOptions\\\": {\\n    \\\"target\\\": \\\"ES2022\\\",\\n    \\\"module\\\": \\\"commonjs\\\",\\n    \\\"lib\\\": [\\\"ES2022\\\"],\\n    \\\"outDir\\\": \\\"./dist\\\",\\n    \\\"rootDir\\\": \\\"./src\\\",\\n    \\\"strict\\\": true,\\n    \\\"esModuleInterop\\\": true,\\n    \\\"skipLibCheck\\\": true,\\n    \\\"forceConsistentCasingInFileNames\\\": true,\\n    \\\"resolveJsonModule\\\": true,\\n    \\\"declaration\\\": true,\\n    \\\"declarationMap\\\": true,\\n    \\\"sourceMap\\\": true\\n  },\\n  \\\"include\\\": [\\\"src/**/*\\\"],\\n  \\\"exclude\\\": [\\\"node_modules\\\", \\\"dist\\\"]\\n}\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-gray-900 mb-4\",\"children\":\"Running the Examples\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 mb-6\",\"children\":\"Follow these steps to run the examples in your own project:\"}],[\"$\",\"div\",null,{\"className\":\"bg-gray-50 border border-gray-200 rounded-lg p-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-gray-900 mb-3\",\"children\":\"Step-by-step Setup\"}],[\"$\",\"div\",null,{\"className\":\"space-y-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold\",\"children\":\"1\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900\",\"children\":\"Create a new project\"}],[\"$\",\"$L7\",null,{\"language\":\"bash\",\"children\":\"mkdir my-interop-monitor\\ncd my-interop-monitor\\nnpm init -y\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold\",\"children\":\"2\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900\",\"children\":\"Install dependencies\"}],[\"$\",\"$L7\",null,{\"language\":\"bash\",\"children\":\"npm install @wakeuplabs/op-interop-alerts-sdk dotenv\\nnpm install -D @types/node tsx typescript\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold\",\"children\":\"3\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900\",\"children\":\"Set up environment\"}],[\"$\",\"$L7\",null,{\"language\":\"bash\",\"children\":\"cp .env.example .env\\n# Edit .env with your private keys and Slack webhook\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-6 h-6 bg-orange text-white rounded-full flex items-center justify-center text-sm font-bold\",\"children\":\"4\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-medium text-gray-900\",\"children\":\"Copy and run examples\"}],[\"$\",\"$L7\",null,{\"language\":\"bash\",\"children\":\"# Basic monitoring\\nnpm run start:basic\\n\\n# Production monitoring with Slack\\nnpm run start:production\\n\\n# Custom chains monitoring\\nnpm run start:custom\"}]]}]]}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"bg-orange/5 border border-orange/20 rounded-lg p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start space-x-3\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-external-link w-5 h-5 text-orange mt-0.5 flex-shrink-0\",\"children\":[[\"$\",\"path\",\"1q9fwt\",{\"d\":\"M15 3h6v6\"}],[\"$\",\"path\",\"gplh6r\",{\"d\":\"M10 14 21 3\"}],[\"$\",\"path\",\"a6xqqp\",{\"d\":\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-midnight mb-2\",\"children\":\"Complete Example Repository\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-3\",\"children\":\"Find the complete working example with all the code shown above in our repository:\"}],[\"$\",\"a\",null,{\"href\":\"https://github.com/wakeuplabs-io/op-interop-alerts/tree/develop/packages/example\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center px-4 py-2 bg-orange text-white font-medium rounded-lg hover:bg-orange/80 transition-colors\",\"children\":[\"View Example Code\",[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-external-link w-4 h-4 ml-2\",\"children\":[[\"$\",\"path\",\"1q9fwt\",{\"d\":\"M15 3h6v6\"}],[\"$\",\"path\",\"gplh6r\",{\"d\":\"M10 14 21 3\"}],[\"$\",\"path\",\"a6xqqp\",{\"d\":\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"}],\"$undefined\"]}]]}]]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"bg-orange/5 border border-orange/20 rounded-lg p-6\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xl font-bold text-gray-900 mb-4\",\"children\":\"Ready to Start Monitoring?\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-700 mb-4\",\"children\":\"These examples provide a solid foundation for monitoring your cross-chain operations. Customize them based on your specific needs and infrastructure.\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-col sm:flex-row gap-3\",\"children\":[[\"$\",\"$Lc\",null,{\"href\":\"/installation\",\"className\":\"inline-flex items-center px-4 py-2 bg-orange text-white font-medium rounded-lg hover:bg-orange/80 transition-colors\",\"children\":[\"Get Started\",[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-right w-4 h-4 ml-2\",\"children\":[[\"$\",\"path\",\"1ays0h\",{\"d\":\"M5 12h14\"}],[\"$\",\"path\",\"xquz4c\",{\"d\":\"m12 5 7 7-7 7\"}],\"$undefined\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex gap-3\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.com/package/@wakeuplabs/op-interop-alerts-sdk\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/npm-logo-red.png\",\"alt\":\"NPM\",\"className\":\"h-3 w-auto mr-2\"}],\"NPM Package\"]}],[\"$\",\"a\",null,{\"href\":\"https://github.com/wakeuplabs-io/op-interop-alerts\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/github-mark.png\",\"alt\":\"GitHub\",\"className\":\"h-4 w-auto mr-2\"}],\"Repository\"]}]]}]]}]]}]]}]],null],null]},[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"examples\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_1ef16e\",\"children\":[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-white\",\"children\":[[\"$\",\"$Lf\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"hidden md:block w-64 flex-shrink-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"sticky top-16 h-screen overflow-y-auto\",\"children\":[\"$\",\"$L10\",null,{}]}]}],[\"$\",\"main\",null,{\"className\":\"flex-1 max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"pl-4 pr-4 sm:pl-6 sm:pr-6 lg:pl-8 lg:pr-8 py-8\",\"children\":[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]]}],[\"$\",\"footer\",null,{\"className\":\"bg-gray-50 border-t border-gray-300\",\"children\":[\"$\",\"div\",null,{\"className\":\"px-4 sm:px-6 lg:px-8 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col md:flex-row justify-between items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4 mb-6 md:mb-0\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/logo-wu.png\",\"alt\":\"WakeUp Labs\",\"className\":\"h-8 w-auto\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-sm font-medium text-midnight\",\"children\":\"OP Interop Alerts SDK\"}],[\"$\",\"span\",null,{\"className\":\"text-xs text-gray-500\",\"children\":\"Cross-chain monitoring documentation\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.com/package/@wakeuplabs/op-interop-alerts-sdk\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"hover:opacity-80 transition-opacity p-2\",\"title\":\"NPM Package\",\"children\":[\"$\",\"img\",null,{\"src\":\"/npm-logo-red.png\",\"alt\":\"NPM\",\"className\":\"h-4 w-auto\"}]}],[\"$\",\"a\",null,{\"href\":\"https://github.com/wakeuplabs-io/op-interop-alerts\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"hover:opacity-80 transition-opacity p-2\",\"title\":\"GitHub Repository\",\"children\":[\"$\",\"img\",null,{\"src\":\"/github-mark.png\",\"alt\":\"GitHub\",\"className\":\"h-5 w-auto\"}]}],[\"$\",\"a\",null,{\"href\":\"https://wakeuplabs.io\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"hover:opacity-80 transition-opacity p-2\",\"title\":\"WakeUp Labs\",\"children\":[\"$\",\"img\",null,{\"src\":\"/logo-wu-isotype.png\",\"alt\":\"WakeUp Labs\",\"className\":\"h-4 w-auto\"}]}]]}]]}]}]}]]}]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L11\"],\"globalErrorComponent\":\"$12\",\"missingSlots\":\"$W13\"}]]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Examples | OP Interop Alerts SDK\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Complete examples showing how to use all modules of the OP Interop Alerts SDK together for comprehensive cross-chain monitoring.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"WakeUp Labs\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"optimism,superchain,cross-chain,interoperability,monitoring,alerts,l2,ethereum\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"WakeUp Labs\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:title\",\"content\":\"OP Interop Alerts SDK\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:description\",\"content\":\"TypeScript SDK for monitoring cross-chain interoperability across Optimism Superchain\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:url\",\"content\":\"https://wakeuplabs-io.github.io/op-interop-alerts/\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:site_name\",\"content\":\"OP Interop Alerts SDK\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:title\",\"content\":\"OP Interop Alerts SDK\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:description\",\"content\":\"TypeScript SDK for monitoring cross-chain interoperability across Optimism Superchain\"}],[\"$\",\"link\",\"16\",{\"rel\":\"shortcut icon\",\"href\":\"/favicon-wu.svg\"}],[\"$\",\"link\",\"17\",{\"rel\":\"icon\",\"href\":\"/favicon-wu.svg\"}],[\"$\",\"link\",\"18\",{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon-wu.svg\"}],[\"$\",\"meta\",\"19\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>